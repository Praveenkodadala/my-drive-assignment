"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[574],{574:(g,n,a)=>{a.r(n),a.d(n,{UserProfileModule:()=>h});var d=a(9808),i=a(3075),e=a(5e3),u=a(3755),m=a(9182);let c=(()=>{class s{constructor(r,t,o){this.fb=r,this.httpService=t,this.modalService=o,this.loginUserID=!1,this.loginUserID=this.httpService.userData,console.log("this.userData in profile",this.loginUserID)}ngOnInit(){this.getUserData(),this.userProfileFormFunc(),this.changePasswordFormFunc()}userProfileFormFunc(){this.userProfileForm=this.fb.group({firstName:[""],lastName:[""],userName:[""],email:[""]})}getUserData(){var r;null===(r=this.httpService.doHttp({method:"GET",action_url:"user/get_user_profile"}))||void 0===r||r.subscribe(o=>{o.status&&(this.userInfo=o.data,this.userProfileForm.patchValue({firstName:this.userInfo.firstName}),this.userProfileForm.patchValue({lastName:this.userInfo.lastName}),this.userProfileForm.patchValue({userName:this.userInfo.userName}),this.userProfileForm.patchValue({email:this.userInfo.email}))},o=>{console.log(o)})}saveProfile(){var r;console.log("this.userprofileform",this.userProfileForm.value),null===(r=this.httpService.doHttp({params:this.userProfileForm.value,method:"POST",action_url:"user/update_user_profile"}))||void 0===r||r.subscribe(o=>{o.status&&(console.log(o),this.getUserData(),alert(o.msg))},o=>{console.log(o)})}changePasswordFormFunc(){this.changePasswordForm=this.fb.group({oldpassword:["",[i.kI.required]],newpassword:["",[i.kI.required]]})}updatePassword(){var r;console.log("this.changePassword.value",this.changePasswordForm.value),null===(r=this.httpService.doHttp({params:this.changePasswordForm.value,method:"POST",action_url:"user/update_user_password"}))||void 0===r||r.subscribe(o=>{o.status&&(console.log(o),alert(o.msg),this.changePasswordForm.reset())},o=>{console.log(o),alert(o.error.msg)})}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(i.qu),e.Y36(u.O),e.Y36(m.FF))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-profile"]],decls:78,vars:4,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"min-height","600px","background-size","cover","background-position","center top"],[1,"mask","bg-gradient-danger","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"text-white","mt-0","mb-5"],[1,"container-fluid","mt--7"],[1,"col-xl-4","order-xl-2","mb-5","mb-xl-0"],[1,"card","card-profile","shadow"],[1,"row","justify-content-center"],[1,"col-lg-3","order-lg-2"],[1,"card-profile-image"],["href","javascript:void(0)"],["src","assets/img/theme/team-4-800x800.jpg",1,"rounded-circle"],[1,"card-header","text-center","border-0","pt-8","pt-md-4","pb-0","pb-md-4"],[1,"d-flex","justify-content-between"],["href","javascript:void(0)",1,"btn","btn-sm","btn-info","mr-4"],["href","javascript:void(0)",1,"btn","btn-sm","btn-default","float-right"],[1,"col-xl-8","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],[1,"col-4","text-right"],[1,"card-body"],[1,"heading-small","text-muted","mb-4"],[1,"pl-lg-4"],[3,"formGroup"],[1,"col-lg-6"],[1,"form-group"],["for","input-first-name",1,"form-control-label"],["type","text","id","input-first-name","placeholder","First name","formControlName","firstName",1,"form-control","form-control-alternative"],["for","input-last-name",1,"form-control-label"],["type","text","id","input-last-name","placeholder","Last name","formControlName","lastName",1,"form-control","form-control-alternative"],["for","input-email",1,"form-control-label"],["type","email","id","input-email","placeholder","jesse@example.com","formControlName","email","readonly","",1,"form-control","form-control-alternative"],["type","button",1,"btn","btn-sm","btn-primary","float-right",3,"click"],[1,"my-4"],[1,"input-group","input-group-alternative"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-lock-circle-open"],["placeholder","Old Password","type","password","formControlName","oldpassword",1,"form-control"],["placeholder","New Password","type","password","formControlName","newpassword",1,"form-control"],["type","button",1,"btn","btn-sm","btn-primary","float-right",3,"disabled","click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks"),e.qZA()()()()(),e.TgZ(9,"div",7)(10,"div",3)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"a",13),e._UZ(17,"img",14),e.qZA()()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"a",17),e._uU(21,"Connect"),e.qZA(),e.TgZ(22,"a",18),e._uU(23,"Message"),e.qZA()()()()(),e.TgZ(24,"div",19)(25,"div",20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"h3",24),e._uU(30,"My account"),e.qZA()(),e._UZ(31,"div",25),e.qZA()(),e.TgZ(32,"div",26)(33,"h6",27),e._uU(34,"User information"),e.qZA(),e.TgZ(35,"div",28)(36,"form",29)(37,"div",28)(38,"div",3)(39,"div",3)(40,"div",30)(41,"div",31)(42,"label",32),e._uU(43,"First name"),e.qZA(),e._UZ(44,"input",33),e.qZA()(),e.TgZ(45,"div",30)(46,"div",31)(47,"label",34),e._uU(48,"Last name"),e.qZA(),e._UZ(49,"input",35),e.qZA()(),e.TgZ(50,"div",30)(51,"div",31)(52,"label",36),e._uU(53,"Email address"),e.qZA(),e._UZ(54,"input",37),e.qZA()()()()()(),e.TgZ(55,"button",38),e.NdJ("click",function(){return t.saveProfile()}),e._uU(56,"Save"),e.qZA()(),e._UZ(57,"br")(58,"hr",39),e.TgZ(59,"h6",27),e._uU(60,"Change Password"),e.qZA(),e.TgZ(61,"div",28)(62,"form",29)(63,"div",31)(64,"div",40)(65,"div",41)(66,"span",42),e._UZ(67,"i",43),e.qZA()(),e._UZ(68,"input",44),e.qZA()(),e.TgZ(69,"div",31)(70,"div",40)(71,"div",41)(72,"span",42),e._UZ(73,"i",43),e.qZA()(),e._UZ(74,"input",45),e.qZA()()(),e.TgZ(75,"button",46),e.NdJ("click",function(){return t.updatePassword()}),e._uU(76,"Save"),e.qZA()(),e._UZ(77,"br"),e.qZA()()()()()),2&r&&(e.xp6(6),e.hij("Hello ",null==t.userInfo?null:t.userInfo.firstName,""),e.xp6(30),e.Q6J("formGroup",t.userProfileForm),e.xp6(26),e.Q6J("formGroup",t.changePasswordForm),e.xp6(13),e.Q6J("disabled",!t.changePasswordForm.valid))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u],styles:[""]}),s})();var p=a(1083);const f=[{path:"",component:c}];let h=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[d.ez,p.Bz.forChild(f),i.u5,i.UX]]}),s})()}}]);